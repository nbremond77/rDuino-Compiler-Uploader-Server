<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="static/style.css">
</head>
<body>

<div class="header">
<h1>rDuino Compiler Uploader Server</h1>
Send an HTTP request, including the code, to http://127.0.0.1:{{ thePort }}/ to compile and upload a code to the Arduino target.
</div>

<div class="row">
<div class="col-3 col-s-3 menu" id="buttonList">
<ul>
    <a href="{{ url_for("install_board") }}" id="install_board"><li>Add a board to the compiler</li></a>
    <a href="{{ url_for("install_library") }}" id="install_library"><li>Add a library to the compiler</li></a>
</ul>
</div>

<!--    return render_template('main.html', theBoardList=boardList, theBoard=myBoard, theTargetList=targetList, theTarget=myTarget, theTempFile=myTempDirectory+separator+myFileName) -->

<div class="col-9 col-s-9">
<h1>The board</h1>
<div class="section">

<form action="{{url_for("set_board")}}" method="POST">
Available boards:<select name="board" id="board" onchange="this.form.submit()">
  {% for board in theBoardList %}
    {% if board == theBoard %}
        <option value="{{board}}" selected>{{board}}</option>
    {% else %}
        <option value="{{board}}">{{board}}</option>
    {% endif %}
  {% endfor %}  
</select>
</form>
The selected board type : {{ theBoard }}
</div>

<h1>The target port</h1>
<div class="section">
<form action="{{url_for("set_target")}}" method="POST">
<select name="target" id="target" onchange="this.form.submit()">
  {% for target in theTargetList %}
    {% if target == theTarget %}
        <option value="{{target}}" selected>{{target}}</option>
    {% else %}
        <option value="{{target}}">{{target}}</option>
    {% endif %}
  {% endfor %}  
</select>
</form>
The selected port to communicate with the target : {{ theTarget }}
</div>

<h1>The options</h1>
<div class="section">
<form action="{{url_for("set_option")}}" method="POST">
<select name="option" id="option" onchange="this.form.submit()">
  {% for option in theOptionList %}
    {% if option == theOption%}
        <option value="{{option}}" selected>{{option}}</option>
    {% else %}
        <option value="{{option}}">{{option}}</option>
    {% endif %}
  {% endfor %}  
</select>
</form>
The selected options : {{ theOption }}
</div>


<h1>The temporary file containg the code</h1>
<div class="section">{{ theTempFile }}</div>

<h1>The result of the last command</h1>
<div class="section_result">{{ result|safe }}</div>
<div class="section_error">{{ error|safe }}</div>
</div>

</div>

<div class="footer">
<p>(c) NBRemond - 2016</p>
</div>

</body>
</html>
